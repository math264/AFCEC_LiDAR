<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Exploration of Walkability in Lexington, KY</title>
    <!-- Loading Styles -->
    <!-- IMPORTING StyleSheets Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Goldman&display=swap"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Goldman&family=Hind+Siliguri:wght@300&display=swap"
      rel="stylesheet"
    />
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />

    <!-- LOAD CSS External File -->
    <link rel="stylesheet" href="/CSS/styles.css">
  </head>

  <body>
    <!-- MAP CONTAINER -->
    <div id="map"></div>

    <!-- Info button -->
    <button id="info-button" onclick="myInfo()">Walkability</button>
    <div id="footer">
      <div>
        <img
          src="https://uky-gis.github.io/graphics/logo-color-400px.png"
          class="footer-img"
        />
        <h1>U.S. Median Gross Rent By County</h1>
        Data obtained through the American Fact Finder (<a
          href="http://factfinder.census.gov/"
          >factfinder.census.gov</a
        >); 2010 Census, SF1. Map created by
        <a href="https://github.com/math264">math264</a>, Fall 2020.
      </div>
    </div>

    <!-- Slideshow button -->
    <button id="pic-button" onclick="pics()">Slideshow</button>
    <!-- Slideshow -->
    <div id="slideshow-container">
      <div class="mySlides">
        <div class="numbertext">1 / 3</div>
        <img src="/Images/Walkability/Route_1/R1P1.JPG" style="width:50%">
        <div class="text">Caption Text</div>
      </div>
      
      <div class="mySlides">
        <div class="numbertext">2 / 3</div>
        <img src="img_snow_wide.jpg" style="width:50%">
        <div class="text">Caption Two</div>
      </div>
      
      <div class="mySlides">
        <div class="numbertext">3 / 3</div>
        <img src="/Images/Walkability/Route_1/R1P1.JPG" style="width:50%">
        <div class="text">Caption Three</div>

      <a class="prev" onclick="plusSlides(-1)">❮</a>
      <a class="next" onclick="plusSlides(1)">❯</a>
    </div>
    <br>

    <div style="text-align:center">
      <span class="dot" onclick="currentSlide(1)"></span> 
      <span class="dot" onclick="currentSlide(2)"></span> 
      <span class="dot" onclick="currentSlide(3)"></span> 
    </div>

    <!-- Header -->
    <div id="header">
      <header class="row">
        <div class="col">
          <h1>Exploration of Walkability in Lexington, KY</h1>
        </div>
      </header>
    </div>

    <!-- LEGEND CONTAINER -->
    <div id="ui">
      <h3 class="text-light">Austin City Districts</h3>
      <h4 class="text-light">(number of traffic signals)</h4>
      <ul id="legend-list"></ul>
    </div>

    <!-- LEAFLET.js -->
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
    <script src="libs/Leaflet.markercluster/leaflet.markercluster.js"></script>
    <!-- D3.js -->
    <script src="https://d3js.org/d3-fetch.v1.min.js"></script>
    <!-- JQUERY -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <script>
      // map options
      const options = {
        center: [38.04, -84.5],
        zoom: 14,
      };
      // instantiate Leaflet map
      const map = L.map("map", options);

      // add CARTO voyager tiles with no labels
      L.tileLayer(
        "https://cartodb-basemaps-{s}.global.ssl.fastly.net/rastertiles/voyager_nolabels/{z}/{x}/{y}.png",
        {
          maxZoom: 18,
          attribution:
            '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, &copy;<a href="https://carto.com/attribution">CARTO</a>',
        }
      ).addTo(map);

      // use D3 fetch to request data with async requests
      /* --------------- Toggle on/off info footer content ---------------  */
      var clicked = false; // start with false condition
      function myInfo() {
        // create button that changes color on click
        // create a footer overlay that displays 33% of the current viewport height
        var a = document.getElementById("footer");
        var b = document.getElementById("info-button");
        if (clicked) {
          b.style.background = "#045a8d"; // indigo blue
          a.style.height = "0px"; // no footer height
        } else {
          b.style.background = "#5D7DC3"; // periwinkle gray
          a.style.height = "33vh"; // footer 33% of viewport height
        }
        clicked = !clicked;
      }

      /* --------------- Toggle on/off slideshow button ---------------  */
      var clicked = false; // start with false condition
      function pics() {
        // create button that changes color on click
        // create a footer overlay that displays 33% of the current viewport height
        var c = document.getElementById("slideshow-container");
        var d = document.getElementById("pic-button");
        if (clicked) {
          d.style.background = "#045a8d"; // indigo blue
          c.style.height = "0px"; // no footer height
        } else {
          d.style.background = "#5D7DC3"; // periwinkle gray
          c.style.height = "33vh"; // footer 33% of viewport height
        }
        clicked = !clicked;
      }

      // Slideshow
      let slideIndex = 1;
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides(slideIndex += n);
      }

      function currentSlide(n) {
        showSlides(slideIndex = n);
      }

      function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");
        if (n > slides.length) {slideIndex = 1}    
        if (n < 1) {slideIndex = slides.length}
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";  
        }
        for (i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex-1].style.display = "block";  
        dots[slideIndex-1].className += " active";
      }
    </script>
    </body>
</html>
